<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>fin_data-copy</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="04.fin_data copy_files/libs/clipboard/clipboard.min.js"></script>
<script src="04.fin_data copy_files/libs/quarto-html/quarto.js"></script>
<script src="04.fin_data copy_files/libs/quarto-html/popper.min.js"></script>
<script src="04.fin_data copy_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="04.fin_data copy_files/libs/quarto-html/anchor.min.js"></script>
<link href="04.fin_data copy_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="04.fin_data copy_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="04.fin_data copy_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="04.fin_data copy_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="04.fin_data copy_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">



<p>title: “FIN7028:Financial data stories” author: “Barry Quinn” date: “2024-01-22” format: pdf</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="st">"fin7028_dat.RData"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: namespace 'ggfortify' is not available and has been replaced
by .GlobalEnv when processing object 'y'</code></pre>
</div>
</div>
<section id="outline" class="level2">
<h2 class="anchored" data-anchor-id="outline">Outline</h2>
<ul>
<li>Financial data you have access to</li>
<li>WRDS set up</li>
<li>Asset returns ]</li>
</ul>
</section>
<section id="wharton-research-data-services-wrds" class="level2">
<h2 class="anchored" data-anchor-id="wharton-research-data-services-wrds">Wharton Research Data Services (WRDS)</h2>
<p>.large<a href="#what-is-wrds">What is WRDS?</a></p>
<p>.blockquote[ Wharton Research Data Services (WRDS) provides the leading business intelligence, data analytics, and research platform to global institutions—enabling historical analysis and insight into the latest innovations in academic research.]</p>
<p>.large[What is LSPD]</p>
<p>.blockquote[ The London Share Price Database (LSPD) is a unique, comprehensive database of UK stock returns covering over 9,000 UK shares from 1955 to date. It is an invaluable resource for both academic researchers and investment practitioners. The LSPD provides a record of total returns to investors, incorporating dividends and capital changes, and includes companies whether they have survived or died. This ensures that research, back testing and performance evaluation focuses on total shareholder return, and is untainted by <strong>survivor bias</strong>.]</p>
</section>
<section id="learning-objectives" class="level2">
<h2 class="anchored" data-anchor-id="learning-objectives">Learning objectives</h2>
<p>.large[ - Become conversant in building and executing WRDS web queries - Understand survivor bias - Learning how to process financial data</p>
<p>]</p>
</section>
<section id="what-is-wrds" class="level2">
<h2 class="anchored" data-anchor-id="what-is-wrds">What is WRDS?</h2>
<ul>
<li><p>WRDS stands for Wharton Research Data Services.</p></li>
<li><p>WRDS aggregates data into a standard format and then makes it available to subscribers.</p></li>
<li><p>WRDS is best known for financial data—for example, stock prices from CRSP, or company fundamentals from Compustat.</p></li>
<li><p>WRDS also hosts data in a variety of other disciplines including:</p></li>
<li><p>.fatinline[Accouting, Banking, Management, Economics, Marketing, Healthcare, Insurance]</p></li>
</ul>
</section>
<section id="getting-started" class="level1">
<h1>Getting Started</h1>
<ul>
<li><p>All you need is a web browser and Internet access to query data from WRDS.</p></li>
<li><p>After you decide which dataset to use, you can use the web-based query form to extract and output data in the format of your choice.</p></li>
<li><p>What follows provides instructions on how to create a web-based query. See Support for additional ways to access WRDS data.</p></li>
</ul>
<p>.blockquote[ ### Reproducible science skill</p>
<p>In future labs and homework exercises we will be using one of the most powerful feature of WRDS; WRDS Cloud, to extract data programmatically.</p>
<p>]</p>
<p>.your-turn[</p>
<ul>
<li><p>Firstly create an account on WRDS using your QUB credentials</p></li>
<li><p><a href="https://wrds-www.wharton.upenn.edu">Link to WRDS</a></p></li>
<li><p>Wait for lecturer to confirm your account ]</p></li>
</ul>
</section>
<section id="class-assignment" class="level1">
<h1>Class assignment</h1>
<p>.your-turn[</p>
<p>Iur assignment is to access WRDS and download monthly stock prices for IBM, Amazon, and Walmart for 2020. Stock price data is provided by CRSP.</p>
<p>This assignment has two parts:</p>
<p>Log in to the WRDS platform and locate the CRSP database.</p>
<p>Create a data query in CRSP and view the results.</p>
<p>]</p>
</section>
<section id="wrds-login-page" class="level1">
<h1>WRDS login page</h1>
<p><img src="img/login.png" class="img-fluid"></p>
<p>.large[ - Enter your username and password - Click login button]</p>
<p>class:middle</p>
</section>
<section id="wrds-home-page" class="level1">
<h1>WRDS Home Page</h1>
<p>.pull-left-1[ - The WRDS Home page displays your data subscriptions.</p>
<ul>
<li><p>Scroll down the page to locate the CRSP dataset.</p></li>
<li><p>Click on CRSP. ] .pull-right-2[ <img src="img/data.png" class="img-fluid">]</p></li>
</ul>
<section id="crsp-page" class="level2">
<h2 class="anchored" data-anchor-id="crsp-page">CRSP Page</h2>
<p>.pull-left[ - Click on Stock/Security Files - Click on CRSP. ] .pull-right[ <img src="img/crsp.png" class="img-fluid">]</p>
</section>
</section>
<section id="crsp-stocksecurity-files-page" class="level1">
<h1>CRSP Stock/Security Files Page</h1>
<p>.pull-left-2[ <img src="img/crsp1.png" class="img-fluid">] .pull-right-1[ Click on monthly stock file]</p>
<section id="crsp-monthly-stock-data-query" class="level2">
<h2 class="anchored" data-anchor-id="crsp-monthly-stock-data-query">CRSP Monthly Stock Data Query</h2>
<p>.pull-left-1[ - On the query page, the first step is to select the date range for your data.</p>
<ul>
<li>Enter 2020-01 to 2020-12 in the Date Variable fields. ] .pull-right-2[ <img src="img/monthly.png" class="img-fluid">]</li>
</ul>
</section>
<section id="enter-the-companies" class="level2">
<h2 class="anchored" data-anchor-id="enter-the-companies">Enter the Companies</h2>
<p>.pull-left-1[ - Make sure ticker is selected - Enter the ticker symbols for the companies: IMB AMZN WMT</p>
<p>] .pull-right-2[ <img src="img/companies.png" class="img-fluid">]</p>
</section>
<section id="select-the-query-variables" class="level2">
<h2 class="anchored" data-anchor-id="select-the-query-variables">Select the Query Variables</h2>
<p>.pull-left-1[</p>
<ul>
<li>Select the variables you want from the Query Variables list.</li>
<li>For this assignment, select two variables: Ticker and Price.</li>
</ul>
<p>] .pull-right-2[ <img src="img/variables.png" class="img-fluid">]</p>
</section>
</section>
<section id="select-the-query-output" class="level1">
<h1>Select the Query Output</h1>
<p><img src="img/output.png" class="img-fluid"></p>
<ul>
<li>For this assignment, select fixed-width text (*.txt), which will display the data in your browser.</li>
</ul>
</section>
<section id="run-the-query" class="level1">
<h1>Run the Query</h1>
<p><img src="img/Run.png" class="img-fluid"></p>
<ul>
<li>Click the Submit From button at the bottom of the page to run the query</li>
</ul>
</section>
<section id="query-summary" class="level1">
<h1>Query Summary</h1>
<p>.pull-left-2[ <img src="img/query-summary.png" class="img-fluid">] .pull-right-1[</p>
<ul>
<li><p>A summary page opens in a new tab, indicating the status of your query, and containing the link to your results.</p></li>
<li><p><strong>Success</strong> means your data is ready.</p></li>
<li><p>Click the Output files link to access the results of your query</p></li>
</ul>
<p>]</p>
</section>
<section id="query-results" class="level1">
<h1>Query Results</h1>
<p>.pull-left-1[ <img src="img/results.png" class="img-fluid">] .pull-right-2[ The monthly stock prices for IBM, Amazon, and Walmart for 2020 are displayed. ]</p>
</section>
<section id="note-pop-up-blocker-installed" class="level1">
<h1>Note: Pop-Up Blocker Installed?</h1>
<p>.pull-left-2[ <img src="img/pop-up.png" class="img-fluid">] .pull-right-1[</p>
<ul>
<li><p>If you have a pop-up blocker on your browser, the query page will show a banner indicating the query was submitted.</p></li>
<li><p>Click the query number to proceed to the Summary screen, then click the link to access your results.</p></li>
</ul>
<p>]</p>
</section>
<section id="asset-returns" class="level1">
<h1>Asset returns</h1>
<p>.discussion[ - The most important financial time series are asset prices, exchange rates and interest rates. - Most financial studies involve returns rather than prices. - Campbell et al.&nbsp;(1997) gives two main reasons for using returns: 1. For an average investor, returns of an asset is a complete and scale-free summary of the investment opportunity. 2. Return series are easier to handle than price series because the former have more attractive statistical properties.]</p>
<section id="one-period-simple-returns" class="level2">
<h2 class="anchored" data-anchor-id="one-period-simple-returns">One-period simple returns</h2>
<ul>
<li>Let <em>P<sub>t</sub></em> be the price of an asset at time index <em>t</em> and assume the asset pays no dividend.
<ul>
<li><strong>One-Period Simple Return</strong>:</li>
<li>Holding the asset for one period from date t-1 to date t would result in a <em>simple gross return</em></li>
</ul></li>
</ul>
<p><span class="math display">\[
1+R_t= \frac{P_t}{P_{t-1}} \;or\; P_t=P_{t-1}(1+R_t)
\]</span></p>
<ul>
<li>The corresponding <em>simple net return</em> or <em>simple return</em> is:</li>
</ul>
<p><span class="math display">\[
R_t= \frac{P_t}{P_{t-1}}-1= \;or\; \frac{P_t-P_{t-1}}{P_{t-1}}
\]</span></p>
<p>class:middle</p>
</section>
<section id="multiperiod-simple-returns" class="level2">
<h2 class="anchored" data-anchor-id="multiperiod-simple-returns">Multiperiod simple returns</h2>
<ul>
<li>Holding the asset for k period between dates t-k and t gives a k period simple gross return:</li>
</ul>
<p><span class="math display">\[1+R_t[k] = \frac{P_t}{P_{t-k}}=\frac{P_t}{P_{t-1}}\times\frac{P_{t-1}}{P_{t-2}} \times \dots \times \frac{P_{t-k+1}}{P_{t-k}}\]</span> <span class="math display">\[=(1+R_t)(1+R_{t-1})\dots(1+R_{t-k+1})\]</span> <span class="math display">\[=\prod^{k-1}_{j=0}(1+R_{t-j})\]</span></p>
<ul>
<li>The <em>k</em> period simple gross return is simply the product of the <em>k</em> one-period simple gross returns; or the <em>compound return</em>.</li>
<li>The k-period simple net return is <span class="math inline">\(R_t[k]= \frac{(P_t-P_{t-k})}{P_{t-k}}\)</span></li>
</ul>
</section>
<section id="time-interval" class="level2">
<h2 class="anchored" data-anchor-id="time-interval">Time interval</h2>
<ul>
<li>In practice, the actual time interval is important in discussing and comparing returns (e.g., monthly returns or annual returns).</li>
<li>If the time interval is not given, it is implicitly assumed to be one year.</li>
<li>If the asset is held for <em>k</em> years, then the annualised (average) return is defined as:</li>
</ul>
<p><span class="math display">\[\text{Annualised}\{R_t[k]\} = \left[\prod^{k-1}_{j=0}(1+R_{t-j})\right]^{1/k}-1\]</span></p>
<p>class:middle</p>
</section>
<section id="time-interval-1" class="level2">
<h2 class="anchored" data-anchor-id="time-interval-1">Time interval</h2>
<ul>
<li>As one-period returns tend to be small, a first-order Taylor expansion to approximate the annualised returns is:</li>
</ul>
<p><span class="math display">\[\text{Annualised}\{R_t[k]\} \approx \frac{1}{k}\sum^{k-1}_{j=0}R_{t-j}\]</span></p>
<ul>
<li>Accuracy of this approximation may not be sufficient in some applications.</li>
</ul>
<p>class:middle</p>
</section>
<section id="continuously-compounded-returns" class="level2">
<h2 class="anchored" data-anchor-id="continuously-compounded-returns">Continuously compounded returns</h2>
<ul>
<li>The natural logarithm of the simple gross return of an asset is called the <em>continuously compounded return</em> or <em>log return</em></li>
</ul>
<p><span class="math display">\[
r_t=ln(1+R_t)=ln \left(\frac{P_t}{P_{t-1}} \right)=p_t-p_{t-1} \
\text{where }p_t=ln(P_t)
\]</span></p>
<section id="advantages" class="level3">
<h3 class="anchored" data-anchor-id="advantages">Advantages</h3>
<ul>
<li>Firstly, continuously compounded multiperiod return is simply the sum of the continuously compounded one-period returns.</li>
</ul>
<p><span class="math display">\[r_t[k]=ln(1+R_t[k])=ln[(1+R_t)(1+R_{t-1})\dots(1+R_{t-k+1})]\]</span></p>
<p><span class="math display">\[=ln(1+R_t)+ln(1+R_{t-1})+\dots +ln(1+R_{t-k+1})\]</span></p>
<p><span class="math display">\[=r_t+r_{t-1}+\dots+r_{t-k+1}\]</span></p>
<ul>
<li>Secondly, statistical properties of log returns are <strong>tractable</strong>, easy to calculate with.</li>
</ul>
</section>
</section>
<section id="portfolio-returns" class="level2">
<h2 class="anchored" data-anchor-id="portfolio-returns">Portfolio returns</h2>
<ul>
<li><p>The simple net return of a portfolio consisting of <em>N</em> assets is a weighted average of the simple net returns of the assets involved, where the weight on each asset is the percentage of the portfolio’s value invested in that asset.</p></li>
<li><p>Let <em>p</em> be a portfolio that places weights <em>w<sub>i</sub></em> on asset <em>i</em>.</p></li>
<li><p>Then the simple return of <em>p</em> at time <em>t</em> is:</p></li>
</ul>
<p><span class="math display">\[R_{p,t}=\sum_{i=1}^{N}w_iR_{it}\text{ where}\sum w_i=1\]</span></p>
</section>
<section id="portfolio-returns-1" class="level2">
<h2 class="anchored" data-anchor-id="portfolio-returns-1">Portfolio returns</h2>
<ul>
<li>log returns of a portfolio do not have this additive property, but if the simple returns <em>R<sub>it</sub></em> are all small in magnitude then we have:</li>
</ul>
<p><span class="math display">\[r_{p,t} \approx \sum_{i=1}^{N}w_ir_{it}\]</span></p>
<ul>
<li><span class="math inline">\(r_{p,t}\)</span> is the continuously compounded return of the portfolio.</li>
<li>This approximation is usually used to study portfolio returns.</li>
</ul>
<p>class:middle</p>
</section>
<section id="dividend-payment" class="level2">
<h2 class="anchored" data-anchor-id="dividend-payment">Dividend payment</h2>
<ul>
<li>Asset returns must be modified if there is a periodic dividend</li>
<li>Let <em>D<sub>t</sub></em> be the dividend of an asset between dates <em>t-1</em> and <em>t</em>, the simple net return and continuously compounded return at time t become:</li>
</ul>
<p><span class="math display">\[R_t= \frac{P_t+D_t}{P_{t-1}}-1 \; , \;r_t=ln(P_t+D_t)-ln(P_{t-1})\]</span></p>
<ul>
<li>This adjustment is commonly referred to as a <em>total return</em>.</li>
</ul>
</section>
<section id="excess-return" class="level2">
<h2 class="anchored" data-anchor-id="excess-return">Excess return</h2>
<p>.pull-left[ * Excess returns of an assets at time <em>t</em> is the difference between the asset’s return and the return on some reference asset. * The reference asset is often taken to be riskless such as a short-term UK government bond returns. * In portfolio performance analysis of actively managed funds a benchmark return is often used. * Queens Student Managed Fund (QSMF) is benchmarked against the FTSE 350 Index.] .pull-right[ * The simple excess return and log excess return of an asset are then defined as:</p>
<p><span class="math display">\[Z_t=R_t-R_{0t}, \; z_t=r_t-r_{0t}\]</span></p>
<ul>
<li>where <em>R<sub>0t</sub></em> and <em>r<sub>0t</sub></em> are the simple and log returns of the reference asset, respectively.</li>
<li>In finance literature, the excess return is thought of as the payoff on an arbitrage portfolio that goes long in an asset and short in the reference assets with no net initial investment.</li>
<li>In portfolio analytics, active return is the excess return compared to the <em>passive</em> benchmark return. ]</li>
</ul>
<p>class:middle</p>
</section>
<section id="examples" class="level2">
<h2 class="anchored" data-anchor-id="examples">Examples</h2>
<p>.pull-left[</p>
<p>.content-box-red[Simple return Vs Log returns]</p>
<div class="cell">
<div class="cell-output cell-output-stderr">
<pre><code>Registered S3 method overwritten by 'quantmod':
  method            from
  as.zoo.data.frame zoo </code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>── Attaching packages ────────────────────────────────────────────── fpp2 2.5 ──</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✔ ggplot2   3.4.4      ✔ fma       2.5   
✔ forecast  8.21.1     ✔ expsmooth 2.3   </code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code></code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──
✔ dplyr     1.1.4     ✔ readr     2.1.4
✔ forcats   1.0.0     ✔ stringr   1.5.1
✔ lubridate 1.9.3     ✔ tibble    3.2.1
✔ purrr     1.0.2     ✔ tidyr     1.3.0
── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
✖ dplyr::filter() masks stats::filter()
✖ dplyr::lag()    masks stats::lag()
ℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors</code></pre>
</div>
<div class="cell-output-display">
<p><img src="04.fin_data-copy_files/figure-html/unnamed-chunk-2-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>] .pull-right[ .discussion[ * Plot shows a time plot of daily simple and log returns of Glencore stock from 2011-05-19 to 2020-01-21. * There are 2180 observations. * From the plots, the behaviour of log returns is very similar to simple returns. * The correlation coefficient between log and simple returns is 0.9997. * This is expected, as when x is close to zero, <span class="math inline">\(log(1+x) \approx x\)</span> and daily simple returns of Glencore are small in the sampling period.]]</p>
<p>class:middle</p>
</section>
<section id="financial-returns-characteristics" class="level2">
<h2 class="anchored" data-anchor-id="financial-returns-characteristics">Financial Returns Characteristics</h2>
<ul>
<li>Daily log returns are simply the change series of log prices.</li>
<li>In <code>R</code>, a change series can easily be obtained by taking the <em>difference</em> of log prices <code>diff(log(price))</code>.</li>
<li>In Figure 1.2 the <em>adjusted</em> daily price is used as it accounts for stock splits.</li>
<li>In Figure 1.1 the total return calculations includes both stock splits and dividend income.</li>
</ul>
<p>class:middle</p>
</section>
<section id="inference-from-time-plot-of-log-returns" class="level2">
<h2 class="anchored" data-anchor-id="inference-from-time-plot-of-log-returns">Inference from time plot of log returns</h2>
<ol type="1">
<li><p>There exist some large outlying observations</p></li>
<li><p>The returns were volatile in certain periods but stable in others. We can thus infer:</p></li>
<li><p>Statistically the returns have heavy tails</p></li>
<li><p>The returns series is characterised by <em>volatility clustering</em></p></li>
</ol>
<p>class:middle</p>
</section>
</section>
<section id="bond-yields-and-prices" class="level1">
<h1>Bond yields and prices</h1>
<p>.pull-left[ ### What is a Bond?</p>
<ul>
<li><p>A financial instrument which pays the face value (par value) to its holder at the time of maturity.</p></li>
<li><p>Some bonds also pay interest periodically; <em>coupon payments</em>.</p></li>
<li><p>Zero-coupons bonds do not pay periodic interest.</p></li>
<li><p>Bond yield is the return recieved for holding a bond to maturity. ] .pull-right[ ## Current yield</p></li>
<li><p>The percentage return that the annual coupon payment provides the investor</p></li>
</ul>
<p><span class="math display">\[
\text{Current Yield}_t = \frac{ \text{Annual Interest paid in dollars}}{\text{Market Price of the Bond}_t} \times 100%
\]</span></p>
<ul>
<li>For a zero-coupon bond the yield is defined as:</li>
</ul>
<p><span class="math display">\[
\text{Current Yield}_t=\frac{ \text{Annual Interest paid in dollars}}{\text{Market Price of the Bond}_t}^{1/k}-1 \\
\text{where }k\text{ denotes time to maturity in years}
\]</span> * The definition shows it is typically time dependent (<span class="math inline">\(_t\)</span> subscript) and does not include capital gains/losses. ]</p>
<section id="yield-to-maturity" class="level2">
<h2 class="anchored" data-anchor-id="yield-to-maturity">Yield to maturity</h2>
<ul>
<li>Considers the time value of money by equating the bond price to the present value of future payments.</li>
<li>YTM is a more common way to measure bond investment.</li>
<li>It’s calculation is more complex and calibration is required to find an accurate approximation.</li>
</ul>
</section>
<section id="yield-to-maturity-1" class="level2">
<h2 class="anchored" data-anchor-id="yield-to-maturity-1">Yield to maturity</h2>
<ul>
<li>Suppose that the bond holder will receive <span class="math inline">\(k\)</span> payments between purchase and maturity then:</li>
</ul>
<p><span class="math display">\[
P=\frac{C_1}{1+y}+\frac{C_2}{(1+y)^2}+\dots+\frac{C_k+F}{(1+y)^k}
\]</span></p>
<ul>
<li>Where <span class="math inline">\(P\)</span> is the price of the bond, <span class="math inline">\(y\)</span> is YTM, <span class="math inline">\(C_I\)</span> is the ith coupon payment, and <span class="math inline">\(F\)</span> denotes face value.</li>
<li>From the above equation the price of the bond has an inverse relationship to the YTM.</li>
</ul>
</section>
<section id="us-government-bonds" class="level2">
<h2 class="anchored" data-anchor-id="us-government-bonds">US government bonds</h2>
<ul>
<li>US government issues various bonds to finance its debts.</li>
<li>These include</li>
</ul>
<ol type="1">
<li><strong>Treasury Notes</strong></li>
<li><strong>Treasury Bonds</strong></li>
<li><strong>Treasury Bills</strong></li>
</ol>
</section>
<section id="treasury-notes" class="level2">
<h2 class="anchored" data-anchor-id="treasury-notes">Treasury notes</h2>
<ul>
<li>Treasury notes (T-Notes) mature in 1-10 years.</li>
<li>They have a coupon payment every 6 months and a face value of $1000</li>
<li>Notes are quoted on the secondary market at percantage of face value in thirty-seconds of a point.</li>
<li>For example a quote of 95:08 indicates it is trading at a discount $(95+8/32) X 1000/100 = $953.5</li>
<li>The 10-year note is the most frequently quoted in discussions of the US government bond market.</li>
</ul>
</section>
<section id="treasury-bills" class="level2">
<h2 class="anchored" data-anchor-id="treasury-bills">Treasury bills</h2>
<ul>
<li>US government issues various bonds to finance its debts.</li>
<li>Treasury Bills (T-Bills) mature in one year or less.</li>
<li>They pay no interest prior to maturity.</li>
<li>They are sold at a <em>discount</em> of face value to create a positive yield to maturity.</li>
<li>The minimum purchase is $100.</li>
<li>The discount yield (%) of T-Bills is calculated via</li>
</ul>
<p><span class="math display">\[
\text{Discount yield }=\frac{F-P}{F}\times\frac{360}{\text{Days till maturity}}\times \text{100}
\]</span></p>
<p>class:middle, inverse</p>
</section>
<section id="treasury-bills-1" class="level2">
<h2 class="anchored" data-anchor-id="treasury-bills-1">Treasury bills</h2>
<ul>
<li>Bills are quoted differently from notes and bonds, since bills do not pay an established interest rate.</li>
<li>The return on a bill is the difference betweeen the purchase and subsequent sale price, or when held to maturity, the face value paid by the Treasury.</li>
<li>Thus bills are quoted at a discount to face value, with the discount expressed as an annual rate based on a 360-day years, for example:</li>
</ul>
<p>|ISSUE| BID |ASK| CHANGE| YIELD| |:–:|::|::|::|::| |12-3-98 |5.08 | 5.06 | -.03|5.26</p>
</section>
<section id="treasury-bonds" class="level2">
<h2 class="anchored" data-anchor-id="treasury-bonds">Treasury bonds</h2>
<ul>
<li>T-Bonds have longer maturities (20-30 years).</li>
<li>They have a 6 month coupon payment and are commonly issued with maturities of 30 years.</li>
</ul>
<p>class:middle</p>
</section>
<section id="implied-volatility" class="level2">
<h2 class="anchored" data-anchor-id="implied-volatility">Implied volatility</h2>
<ul>
<li>Stock options are financial contracts which give the holder the right to buy (<strong>call option</strong>) or sell (<strong>put option</strong>) a stock at a prespecified price (<strong>strike price</strong>) within a given time period.</li>
<li>Black-Scholes defines the price of an option as dependent on, the strike price, risk-free interest rate, current price and volatility of the stock.</li>
<li>In practice, the stock volatility is not observed but backed out of the Black-Scholes formula as an <em>implied volatility</em> using calibration.</li>
</ul>
<section id="cboe-vix-index" class="level4">
<h4 class="anchored" data-anchor-id="cboe-vix-index">CBOE VIX index</h4>
<ul>
<li>The VIX index is the most well-known implied volatility.</li>
<li>It measures the US stock market’s expectation of 30-day volatility <em>implied</em> by averaging prices of S&amp;P 500 index puts and calls over a wide range of strike prices.</li>
<li>It is often regarded as the market fear factor, and can openly be traded using VIX futures and options.</li>
</ul>
</section>
</section>
</section>
<section id="the-statistical-forecasting-perspective" class="level1">
<h1>The statistical forecasting perspective</h1>
<ul>
<li>Thing to be forecast: a random variable, <span class="math inline">\(y_t\)</span>.</li>
<li>Forecast distributin: If <span class="math inline">\({\cal I}\)</span> is all observations, then <span class="math inline">\(y_{t} |{\cal I}\)</span> means <code>the random variable $y_{t}$ given what we know in ${\cal I}$</code></li>
<li>The point forecast: is the mean (or median) of <span class="math inline">\(y_{t} |{\cal I}\)</span></li>
<li>The Forecast variance: is <span class="math inline">\(\text{var}[y_{t} |{\cal I}]\)</span></li>
<li>A prediction interval or interval forecast is a range of values of <span class="math inline">\(y_t\)</span> with high probability.</li>
<li>With time series, <span class="math inline">\({y}_{t|t-1} = y_t | \{y_1,y_2,\dots,y_{t-1}\}\)</span>.</li>
<li><span class="math inline">\(\hat{y}_{T+h|T} =\text{E}[y_{T+h} | y_1,\dots,y_T]\)</span> (a <span class="math inline">\(h\)</span>-step forecast taking account of all observations up to time <span class="math inline">\(T\)</span>).</li>
</ul>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>